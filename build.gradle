plugins {
    id 'java'
    id 'com.bmuschko.docker-java-application' version '9.3.1'
}








group = 'ru.daniladeveloper'
version = '0.0.1'

java {
	sourceCompatibility = '17'
}

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
	mavenCentral()
}

dependencies {
    implementation 'org.telegram:telegrambots:6.7.0'
    implementation 'org.slf4j:log4j-over-slf4j:2.0.7'
    // https://mvnrepository.com/artifact/org.projectlombok/lombok
    compileOnly 'org.projectlombok:lombok:1.18.28'

    annotationProcessor 'org.projectlombok:lombok:1.18.28'
}

tasks.named('test') {
	useJUnitPlatform()
}

jar {
    manifest {
        attributes 'Main-Class': 'ru.daniladeveloper.interviewer.Main'
    }
}




docker {
    javaApplication {
        baseImage = 'openjdk:17'
        maintainer = 'Danila Developer'
        ports = [8080]
        images = ['jopenjdk:17']
        jvmArgs = ['-Xms256m', '-Xmx2048m']
    }
}

